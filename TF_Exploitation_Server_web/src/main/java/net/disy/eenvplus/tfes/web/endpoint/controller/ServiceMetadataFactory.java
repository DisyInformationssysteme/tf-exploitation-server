//Copyright (c) 2014 by Disy Informationssysteme GmbH
package net.disy.eenvplus.tfes.web.endpoint.controller;

import net.disy.eenvplus.tfes.web.api.rest.RestApiAddress;
import net.disy.eenvplus.tfes.web.api.rest.RestApiContact;
import net.disy.eenvplus.tfes.web.api.rest.RestApiServiceMetadata;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Service;

// NOT_PUBLISHED
@Service
public class ServiceMetadataFactory {

  @Value("${service.metadata.name}")
  private String serviceMetadataName;

  @Value("${service.metadata.description}")
  private String serviceMetadataDescription;

  @Value("${service.metadata.onlineReference}")
  private String serviceMetadataOnlineReference;

  @Value("${contact.mail}")
  private String contactMail;

  @Value("${contact.name}")
  private String contactName;

  @Value("${contact.phone}")
  private String contactPhone;

  @Value("${contact.position}")
  private String contactPosition;

  @Value("${contact.address.administrativeArea}")
  private String adressAdministrativeArea;

  @Value("${contact.address.city}")
  private String adressCity;

  @Value("${contact.address.country}")
  private String addressCountry;

  @Value("${contact.address.deliveryPoint}")
  private String addressDeliveryPoint;

  @Value("${contact.address.electronicMailAddress}")
  private String addressElectronicMailAddress;

  @Value("${contact.address.postalCode}")
  private String addressPostalCode;

  public RestApiServiceMetadata create() {
    RestApiServiceMetadata result = new RestApiServiceMetadata();
    result.setName(serviceMetadataName);
    result.setDescription(serviceMetadataDescription);
    result.setOnlineReference(serviceMetadataOnlineReference);
    result.setContactInformation(createContactInformation());
    return result;
  }

  private RestApiContact createContactInformation() {
    RestApiContact result = new RestApiContact();
    result.setMail(contactMail);
    result.setName(contactName);
    result.setPhone(contactPhone);
    result.setPosition(contactPosition);
    result.setAddress(createAddress());
    return result;
  }

  private RestApiAddress createAddress() {
    RestApiAddress result = new RestApiAddress();
    result.setAdministrativeArea(adressAdministrativeArea);
    result.setCity(adressCity);
    result.setCountry(addressCountry);
    result.setDeliveryPoint(addressDeliveryPoint);
    result.setElectronicMailAddress(addressElectronicMailAddress);
    result.setPostalCode(addressPostalCode);
    return result;
  }

}
