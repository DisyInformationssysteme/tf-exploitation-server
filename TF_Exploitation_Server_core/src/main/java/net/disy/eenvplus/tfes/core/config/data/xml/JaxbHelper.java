//Copyright (c) 2014 by Disy Informationssysteme GmbH
package net.disy.eenvplus.tfes.core.config.data.xml;

import javax.xml.bind.JAXBContext;
import javax.xml.bind.JAXBException;
import javax.xml.bind.Unmarshaller;

import org.w3c.dom.Element;

// NOT_PUBLISHED
class JaxbHelper {
  private static final String XML_SCHEMA = "net.disy.eenvplus.tfes.core.schema"; //$NON-NLS-1$
  private static final Unmarshaller UNMARSHALLER = create();

  private static Unmarshaller create() {
    try {
      return JAXBContext.newInstance(XML_SCHEMA).createUnmarshaller();
    }
    catch (JAXBException exception) {
      throw new RuntimeException(exception);
    }
  }

  @SuppressWarnings("unchecked")
  public static <T> T unmarshal(Element element) {
    try {
      return (T) UNMARSHALLER.unmarshal(element);
    }
    catch (JAXBException exception) {
      throw new RuntimeException(exception);
    }
  }
}
